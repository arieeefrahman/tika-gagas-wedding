function getQueryParam(e){const t=new URLSearchParams(window.location.search);return t.get(e)}window.onload=function(){var e=getQueryParam("to");namaSambutan=document.getElementById("nama-sambutan"),e?(e=decodeURIComponent(e),namaSambutan.innerHTML=(e||"").trim()):namaSambutan.innerText="Bapak/Ibu/Saudara/i"};var tempMusic="";const music=document.querySelector(".music");function mulai(){window.scrollTo(0,0),document.querySelector(".sound-door").play();var e=$("#door-section");document.querySelectorAll(".door").forEach(function(e,t){t=0===t?-1:1;e.style.transform="rotateY("+70*t+"deg)"}),setTimeout(function(){music.play(),e.css("transform","scale(6)")},600),setTimeout(function(){e.css("opacity",0),$("body").removeClass("overflow-hidden"),$("body").addClass("transition"),e.css("display","none")},2e3)}tempMusic&&(music.src=tempMusic);var isPlaying=!0;function toggleMusic(e){e.preventDefault();const t=document.getElementById("music-button");isPlaying?(t.innerHTML='<i class="fas fa-fw fa-pause"></i>',t.classList.remove("rotate"),t.style.transform="translateY(0)",music.pause()):(t.innerHTML='<i class="fas fa-fw fa-compact-disc"></i>',t.classList.add("rotate"),music.play()),isPlaying=!isPlaying}var countdownDate=new Date("Dec 28, 2024 08:00:00").getTime(),x=setInterval(function(){var e=(new Date).getTime(),t=countdownDate-e,a=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),o=Math.floor(t%36e5/6e4),e=Math.floor(t%6e4/1e3);document.getElementById("countdown-wedding").innerHTML='<div class="col-lg-8 col-12 d-flex justify-content-center gap-5"><div class="text-center p-2 rounded text-light"><h5>'+a+'</h5> Hari</div><div class="text-center p-2 rounded text-light"><h5>'+n+'</h5> Jam</div><div class="text-center p-2 rounded text-light"><h5>'+o+'</h5> Menit</div><div class="text-center p-2 rounded text-light"><h5>'+e+"</h5> Detik</div></div>",t<0&&(clearInterval(x),document.getElementById("countdown-wedding").innerHTML="<span class='text-center p-3 rounded text-light m-2'><h2>Sudah dimulai!</h2></span>")},1e3);function copyText(e){const t=$(e).closest(".credit-card");if(t.length){const n=t.find(".card-number");if(!n.length)return console.error("No card-number found inside the credit-card container."),void Swal.fire({icon:"error",title:"Gagal!",text:"Gagal menemukan nomor kartu.",confirmButtonText:"Tutup"});const o=n.text().trim();var a=o.replace(/\s+/g,"");navigator.clipboard.writeText(a).then(()=>{$(e).text("Berhasil disalin!"),Swal.fire({icon:"success",title:"Berhasil!",text:"Nomor kartu berhasil disalin!",confirmButtonText:"OK"}),setTimeout(()=>{$(e).html('<i class="fas fa-fw fa-copy"></i> Copy')},3e3)}).catch(e=>{console.error("Failed to copy:",e),Swal.fire({icon:"error",title:"Gagal!",text:"Gagal menyalin nomor kartu.",confirmButtonText:"Tutup"})})}else console.error("No credit-card container found.")}function handleSubmit(t){t.preventDefault();var e={nama:document.getElementById("nama").value,ucapan:document.getElementById("ucapan").value,kehadiran:document.getElementById("kehadiran").value,timestamp:(new Date).toISOString(),tamu:decodeURIComponent(getQueryParam("to")||"")};Swal.fire({title:"Mengirim...",text:"Silakan tunggu sementara kami memproses konfirmasi Anda.",icon:"info",allowOutsideClick:!1,showConfirmButton:!1,willOpen:()=>{Swal.showLoading()}}),fetch("https://script.google.com/macros/s/AKfycbzhgRwAb5OA4R4tGQn5H2eDpsrUs3_xLs0w87Xx4f-sQjwNSKSfPhIofn13lKNuImeK7A/exec",{method:"POST",mode:"no-cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{Swal.fire({icon:"success",title:"Terima kasih!",text:"Konfirmasi Anda telah diterima.",confirmButtonText:"OK"}),t.target.reset()}).catch(e=>{Swal.fire({icon:"error",title:"Oops...",text:"Maaf, terjadi kesalahan. Silakan coba lagi.",confirmButtonText:"Coba Lagi"}),console.error("Error:",e)}),console.log("Data RSVP:",e)}